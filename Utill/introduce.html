<!-- introduce.html -->
<div class="introduce-container">
  <img id="profile-pic" src="image/kangjin.jpg" alt="Profile Picture" class="resize-animation">
  <h1 id="typing-text"></h1>
</div>

<style>
/* CSS 애니메이션 */
.resize-animation {
  width: 150px; /* 이미지의 초기 크기를 설정하세요 */
  height: auto;
  animation: resizeImage 2s forwards; /* 애니메이션이 2초 동안 실행 */
}

@keyframes resizeImage {
  from { transform: scale(3); }
  to { transform: scale(1); }
}

  #profile-pic {
  position: relative; /* 혹은 absolute, fixed, sticky */
  top: 150px; /* 위쪽으로부터의 거리 */
  left: 150px; /* 왼쪽으로부터의 거리 */
}

/* 타이핑 애니메이션에 대한 기본 스타일 */
#typing-text {
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  border-right: 3px solid;
  animation: typing 3.5s steps(46, end), blink-caret .75s step-end infinite;
  /* 여기서 3.5초는 전체 타이핑 애니메이션 시간이며, 글자수에 맞게 조절해야 합니다. */
}

/* 타이핑 애니메이션 키 프레임 */
@keyframes typing {
  from { width: 0; }
  to { width: 100%; }
}

/* 커서 깜빡임 애니메이션 */
@keyframes blink-caret {
  from, to { border-color: transparent; }
  50% { border-color: black; }
}
</style>

<script>
// 타이핑 효과를 위한 함수
function typeWriter(text, i, callback) {
  if (i < (text.length)) {
    document.querySelector("#typing-text").innerHTML = text.substring(0, i + 1) + '<span aria-hidden="true"></span>';

    // 재귀적으로 다음 글자를 계속 타이핑합니다.
    setTimeout(() => {
      typeWriter(text, i + 1, callback)
    }, 100);
  } else if (callback && typeof callback == 'function') {
    // 모든 글자가 타이핑되면 콜백 함수를 호출합니다.
    setTimeout(callback, 700);
  }
}

// 타이핑 효과를 시작하는 함수
function startTypingEffect() {
  const textToType = "Hello, I'm a progressive developer KangJin Yu";
  typeWriter(textToType, 0, function() {
    console.log("Typing animation completed!");
  });
}

// 이미지 애니메이션이 끝나면 타이핑을 시작합니다.
document.getElementById('profile-pic').addEventListener('animationend', startTypingEffect);
</script>
